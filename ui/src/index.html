<html>
  <head>
    <title>Twitch Bot JS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/site.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" />
    <!--<script src="assets/js/jquery.min.js"></script>-->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/react.min.js"></script>
    <script src="assets/js/react-dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
    <!--<script src="assets/js/marked.min.js"></script>-->
  </head>
  <body>
    <div id="app">
      <script>
        var fs = require('fs');
        var util = require('util');
        var path = require('path');
        var TBJS = {
          Functions: require('tbjs/Functions')
        };
      </script>
      <div class="col-lg-12 col-sm-12">
        <div class="card hovercard">
          <div class="card-background">
            <img class="card-bkimg" alt="" src="assets/images/code2.png" />
          </div>
          <div class="useravatar">
            <img alt="" src="assets/images/Twitch-Icon.png" />
          </div>
        </div>
        <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
          <div class="btn-group" role="group">
            <button type="button" id="stars" class="btn btn-primary" href="#tabHome" data-toggle="tab"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>
            <div class="hidden-xs">Home</div>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" id="favorites" class="btn btn-default" href="#tabConfiguration" data-toggle="tab"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
            <div class="hidden-xs">Configuration</div>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" id="favorites" class="btn btn-default" href="#tabPlugins" data-toggle="tab"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
            <div class="hidden-xs">Plugins & Hooks</div>
            </button>
          </div>
          <div class="btn-group" role="group">
            <button type="button" id="favorites" class="btn btn-default" href="#tabAbout" data-toggle="tab"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
            <div class="hidden-xs">About</div>
            </button>
          </div>
        </div>
        <div class="well">
          <div class="tab-content">
            <div class="tab-pane fade in active" id="tabHome">
            </div>
            <div class="tab-pane fade in" id="tabConfiguration">
            </div>
            <div class="tab-pane fade in" id="tabPlugins">
              <h3>Plugins</h3>
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Author</th>
                    <th>Enabled</th>
                  </tr>
                </thead>
                <tbody>
                <script>
                  var PluginFolders = TBJS.Functions.getFolders(path.resolve('..', 'src/plugins'));
                  for (var i = 0; i < PluginFolders.length; i++) {
                    var plugin;
                    try {
                      plugin = require(util.format(path.resolve('..', 'src/plugins/%s'), PluginFolders[i]));
                      if(plugin) {
                        if(plugin.enabled) {
                          document.write(util.format('<tr><td>%s</td><td>%s</td><td>%s</td><td>%s</td></tr>', plugin.title, plugin.description, plugin.author, plugin.enabled));
                        }
                      }
                    } catch(error) {
                      console.log(util.format('Improper setup of the %s plugin.', PluginFolders[i]));
                    }
                  }
                </script>
                </tbody>
              </table>
              <hr/>
              <h3>Hooks</h3>
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Author</th>
                    <th>Enabled</th>
                  </tr>
                </thead>
                <tbody>
                <script>
                  var HookFolders = TBJS.Functions.getFolders(path.resolve('..', 'src/hooks'));
                  for (var i = 0; i < HookFolders.length; i++) {
                    var hook;
                    try {
                      hook = require(util.format(path.resolve('..', 'src/hooks/%s'), HookFolders[i]));
                      if(hook) {
                        if(hook.enabled) {
                          document.write(util.format('<tr><td>%s</td><td>%s</td><td>%s</td><td>%s</td></tr>', hook.title, hook.description, hook.author, hook.enabled));
                        }
                      }
                    } catch(error) {
                      console.log(util.format('Improper setup of the %s hook.', HookFolders[i]));
                    }
                  }
                </script>
                </tbody>
              </table>
            </div>
            <div class="tab-pane fade in" id="tabAbout">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--<script type="text/babel" src="react/App.js"></script>-->
    <script type="text/javascript" src="assets/js/main.js"></script>
  </body>
</html>
